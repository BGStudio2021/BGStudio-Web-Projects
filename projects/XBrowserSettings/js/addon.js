function createAddButton(e){return e.installed?("com.x.addon.qrscan"==e.addon_id||"com.x.addon.qrscan.play"==e.addon_id)&&e.versioncode<11?"<a  onclick=\"mbrowser.installAddon('"+e.addon_id+'\');" class="btn  btn-positive">'+mbrowser.getStringResource("btn_text_update")+"</a>":"<a  onclick=\"mbrowser.removeAddon('"+e.addon_id+'\');" class="btn">'+mbrowser.getStringResource("web_str_btn_uninstall")+"</a>":"<a  onclick=\"mbrowser.installAddon('"+e.addon_id+'\');" class="btn">'+mbrowser.getStringResource("web_str_btn_install")+"</a>"}function updateAddonStatus(e){var t=document.querySelector("#"+e),n=e.replace(/_/g,".");mbrowser.addonIsActive(n)?t.classList.add("active"):t.classList.remove("active"),t.addEventListener("toggle",function(e){e.detail.isActive?mbrowser.enableAddon(n):mbrowser.disableAddon(n)})}function loadAddons(e){var t=document.querySelector("#main-content"),n=(t.innerHTML="",JSON.parse(mbrowser.getAddonListWithJson(e))),d=(console.log(n),document.createElement("ul"));for(d.setAttribute("class","table-view"),t.appendChild(d),i=0;i<n.length;i++){var a,o=document.createElement("li"),s="";0==e?(o.setAttribute("class","table-view-cell media"),s='<a><div class="media-body">\n'+n[i].title+"\n<p>"+n[i].intro+"</p>\n</div>\n</a>\n"+createAddButton(n[i]),o.innerHTML=s,d.appendChild(o)):(a=n[i].addon_id.replace(/\./g,"_"),o.setAttribute("class","table-view-cell"),s=n[i].title+'<div id="'+a+'" class="toggle"><div class="toggle-handle"></div></div>',o.innerHTML=s,d.appendChild(o),updateAddonStatus(a))}}