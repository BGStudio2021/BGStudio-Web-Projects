function on_video_loaded(){window.mbrowser&&mbrowser.requestVideoFullScreen()}function toggleWaitingState(e){var o=document.querySelector(".plyr");o&&(e?o.classList.add("plyr--loading"):o.classList.remove("plyr--loading"))}function native_call_fullscreen(){window.player.fullscreen.enter()}function native_call_exit_fullscreen(){window.player.fullscreen.exit(),mbrowser.exitMediaPlayer()}video=document.querySelector("video"),video&&(video.addEventListener("play",on_video_loaded),video.addEventListener("loadedmetadata",on_video_loaded),video.addEventListener("progress",function(){console.log(">>>>>> progress >>>>>>>>>>")}),video.addEventListener("suspend",function(){console.log(">>>>>> suspend >>>>>>>>>>")}),video.addEventListener("loadstart",function(){console.log(">>>>>> load start >>>>>>>>>>"),toggleWaitingState(!1)}),video.addEventListener("playing",function(){console.log(">>>>>> is playing >>>>>>>>>> "+video.readyState),toggleWaitingState(!1)}),video.addEventListener("waiting",function(){console.log(">>>>>> waiting >>>>>>>>>>"+video.readyState),toggleWaitingState(!0)}),video.addEventListener("pause",function(){console.log(">>>>>> pause >>>>>>>>>>"),toggleWaitingState(!1)}),video.addEventListener("seeking",function(){toggleWaitingState(!0),console.log(">>>>>> seeking >>>>>>>>>>"+video.readyState)}),video.addEventListener("seeked",function(){console.log(">>>>>> seeked >>>>>>>>>>"+video.readyState),toggleWaitingState(!1)}));var res,hls,config={};window.mbrowser&&((res=JSON.parse(mbrowser.getSniffMediaResource())).src&&(console.log("media-res:"+res.src),video.src=res.src,0<res.src.indexOf("m3u8")&&Hls.isSupported()&&((hls=new Hls).loadSource(res.src),hls.attachMedia(video))),res.title&&(config.title=res.title));const player=new Plyr("video",config);window.player=player;